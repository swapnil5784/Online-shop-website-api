2023-06-19 10:07:22 INFO  Route : POST  = /products In:routes/product.js=====================> req.body : {} 
2023-06-19 10:10:06 INFO  Route : POST  = /products In:routes/product.js=====================> req.body : {} 
2023-06-19 10:10:09 INFO  Route : POST  = /products In:routes/product.js=====================> req.body : {} 
2023-06-19 10:10:36 INFO  Route : POST  = /products In:routes/product.js=====================> req.body : {"sort":{"field":"rating","order":"asc"}} 
2023-06-19 10:10:51 INFO  Route : POST  = /products In:routes/product.js=====================> req.body : {"sort":{"field":"rating","order":"desc"}} 
2023-06-19 10:10:58 INFO  Route : POST  = /products In:routes/product.js=====================> req.body : {"pagination":{"page":3,"productsPerPage":1}} 
2023-06-19 10:11:11 INFO  Route : POST  = /products In:routes/product.js=====================> req.body : {"pagination":{"page":3,"productsPerPage":10}} 
2023-06-19 10:11:13 INFO  Route : POST  = /products In:routes/product.js=====================> req.body : {"pagination":{"page":2,"productsPerPage":10}} 
2023-06-19 10:11:30 INFO  Route : POST  = /products In:routes/product.js=====================> req.body : {"pagination":{"page":1,"productsPerPage":10}} 
2023-06-19 10:11:39 INFO  Route : POST  = /products In:routes/product.js=====================> req.body : {"pagination":{"page":2,"productsPerPage":15}} 
2023-06-19 10:11:47 INFO  Route : POST  = /products In:routes/product.js=====================> req.body : {"filter":{"isFeatured":true}} 
2023-06-19 10:12:10 INFO  Route : POST  = /products In:routes/product.js=====================> req.body : {"filter":{"isFeatured":false}} 
2023-06-19 10:12:24 INFO  Route : POST  = /products In:routes/product.js=====================> req.body : {"filter":{"isFeatured":true}} 
2023-06-19 10:12:29 INFO  Route : POST  = /products In:routes/product.js=====================> req.body : {"filter":{"isMarkedFavorite":true}} 
2023-06-19 10:13:34 INFO  Route : POST  = /products In:routes/product.js=====================> req.body : {"filter":{"price":[{"min":0,"max":10},{"min":800,"max":1000}]}} 
2023-06-19 10:13:52 INFO  Route : POST  = /products In:routes/product.js=====================> req.body : {"filter":{"price":[{"min":0,"max":10}]}} 
2023-06-19 10:14:13 INFO  Route : POST  = /products In:routes/product.js=====================> req.body : {"filter":{"price":[{"min":0,"max":10},{"min":10,"max":20}]}} 
2023-06-19 10:14:31 INFO  Route : POST  = /products In:routes/product.js=====================> req.body : {"filter":{"price":[{"min":0,"max":10},{"min":10,"max":20},{"min":20,"max":30}]}} 
2023-06-19 10:14:41 INFO  Route : POST  = /products In:routes/product.js=====================> req.body : {"filter":{"price":[{"min":0,"max":10},{"min":10,"max":20},{"min":30,"max":40}]}} 
2023-06-19 10:15:29 INFO  Route : POST  = /products In:routes/product.js=====================> req.body : {"filter":{"search":"backpack"}} 
2023-06-19 10:15:33 INFO  Route : POST  = /products In:routes/product.js=====================> req.body : {"filter":{"search":"fire"}} 
2023-06-19 10:15:37 INFO  Route : POST  = /products In:routes/product.js=====================> req.body : {"filter":{"search":"backpack"}} 
2023-06-19 10:15:45 INFO  Route : POST  = /products In:routes/product.js=====================> req.body : {"filter":{"search":"Foldsack"}} 
2023-06-19 10:15:53 INFO  Route : POST  = /products In:routes/product.js=====================> req.body : {"filter":{"search":"Fits"}} 
2023-06-19 10:16:01 INFO  Route : POST  = /products In:routes/product.js=====================> req.body : {"filter":{"search":"clothing"}} 
2023-06-19 10:16:22 INFO  Route : POST  = /products In:routes/product.js=====================> req.body : {"filter":{"color":["Black","Red"]}} 
2023-06-19 10:16:28 INFO  Route : POST  = /products In:routes/product.js=====================> req.body : {"filter":{"color":["Black"]}} 
2023-06-19 10:16:40 INFO  Route : POST  = /products In:routes/product.js=====================> req.body : {"filter":{"color":["yellow"]}} 
2023-06-19 10:16:44 INFO  Route : POST  = /products In:routes/product.js=====================> req.body : {"filter":{"color":["Black"]}} 
2023-06-19 10:16:50 INFO  Route : POST  = /products In:routes/product.js=====================> req.body : {"filter":{"color":["Blue"]}} 
2023-06-19 10:16:56 INFO  Route : POST  = /products In:routes/product.js=====================> req.body : {"filter":{"color":["Green"]}} 
2023-06-19 10:17:03 INFO  Route : POST  = /products In:routes/product.js=====================> req.body : {"filter":{"color":["Black"]}} 
2023-06-19 10:17:21 INFO  Route : POST  = /products In:routes/product.js=====================> req.body : {"filter":{"color":["Blue"]}} 
2023-06-19 10:17:26 INFO  Route : POST  = /products In:routes/product.js=====================> req.body : {"filter":{"size":["M","L"]}} 
2023-06-19 10:17:38 INFO  Route : POST  = /products In:routes/product.js=====================> req.body : {"filter":{"size":["M","X"]}} 
2023-06-19 10:17:50 INFO  Route : POST  = /products In:routes/product.js=====================> req.body : {"filter":{"size":["X"]}} 
2023-06-19 10:17:55 INFO  Route : POST  = /products In:routes/product.js=====================> req.body : {"filter":{"size":["XL"]}} 
2023-06-19 10:18:09 INFO  Route : POST  = /products In:routes/product.js=====================> req.body : {"filter":{"size":["M","XL"]}} 
2023-06-19 10:18:24 INFO  Route : POST  = /products In:routes/product.js=====================> req.body : {"filter":{"size":["M","XXL","XL"]}} 
2023-06-19 10:23:32 INFO  Route : DELETE = products/review In:routes/product.js  cartId => => 648fdf35c5a90327ee33a6d1 
2023-06-19 10:55:42 INFO  Route : POST  = /products In:routes/product.js=====================> req.body : {} 
2023-06-19 10:55:54 INFO  Route : POST  = /products In:routes/product.js=====================> req.body : {} 
2023-06-19 10:56:08 INFO  Route : POST  = /products In:routes/product.js=====================> req.body : {} 
2023-06-19 10:56:26 INFO  Route : POST  = /products In:routes/product.js=====================> req.body : {} 
2023-06-19 10:57:07 INFO  Route : POST = products/review In:routes/product.js{"userId":"648fe1cf50be1fddce448d84","productId":"646f3bac5d3d7c99439ec912","review":"Nice product date:19/6/2023","rating":4} 
2023-06-19 10:57:09 INFO  Route : POST  = /products In:routes/product.js=====================> req.body : {} 
2023-06-19 10:57:21 INFO  Route : POST = products/review In:routes/product.js{"userId":"648fe1cf50be1fddce448d84","productId":"646f3bac5d3d7c99439ec912","review":"Fire product date:19/6/2023","rating":4} 
2023-06-19 10:57:23 INFO  Route : POST  = /products In:routes/product.js=====================> req.body : {} 
2023-06-19 11:00:06 ERROR error in /products/remove-review routeObjectId is not defined
{}
ReferenceError: ObjectId is not defined
    at deleteReview (/home/swapnils/Desktop/11.APIs with Angular teamates/Day-18-19-06-2023/updates/Online-shop-website-api/controller/product/review.controller.js:65:5)
    at Layer.handle [as handle_request] (/home/swapnils/Desktop/11.APIs with Angular teamates/Day-18-19-06-2023/updates/Online-shop-website-api/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/swapnils/Desktop/11.APIs with Angular teamates/Day-18-19-06-2023/updates/Online-shop-website-api/node_modules/express/lib/router/route.js:137:13)
    at authentication (/home/swapnils/Desktop/11.APIs with Angular teamates/Day-18-19-06-2023/updates/Online-shop-website-api/comman/middlewares.js:56:16)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) 
2023-06-19 11:01:49 INFO  Route : POST  = /products In:routes/product.js=====================> req.body : {} 
2023-06-19 11:14:51 INFO  Route : POST  = /products In:routes/product.js=====================> req.body : {} 
2023-06-19 11:16:42 INFO  Route : POST  = /products In:routes/product.js=====================> req.body : {} 
2023-06-19 11:16:52 INFO  Route : POST = products/review In:routes/product.js{"userId":"648fe1cf50be1fddce448d84","productId":"646f3bac5d3d7c99439ec912","review":"Fire product date:19/6/2023","rating":4} 
2023-06-19 11:16:55 INFO  Route : POST  = /products In:routes/product.js=====================> req.body : {} 
2023-06-19 11:23:48 INFO  Route : POST  = /products In:routes/product.js=====================> req.body : {} 
2023-06-19 11:58:21 INFO  Route : GET = products/review In:routes/product.js req.user._id = = > "648fe1cf50be1fddce448d84" 
2023-06-19 11:58:33 INFO  Route : GET = products/review In:routes/product.js req.user._id = = > "648fe1cf50be1fddce448d84" 
2023-06-19 11:58:57 INFO  Route : GET = products/review In:routes/product.js req.user._id = = > "648fe1cf50be1fddce448d84" 
2023-06-19 11:58:57 INFO  Route : GET = products/review In:routes/product.js req.user._id = = > "648fe1cf50be1fddce448d84" 
2023-06-19 11:59:06 INFO  Route : GET = products/review In:routes/product.js req.user._id = = > "648fe1cf50be1fddce448d84" 
2023-06-19 12:00:33 INFO  Route : POST  = /products In:routes/product.js=====================> req.body : {"filter":{"isMarkedFavorite":true}} 
2023-06-19 12:22:24 INFO  Route : POST  = /products In:routes/product.js=====================> req.body : {"filter":{"isMarkedFavorite":true}} 
2023-06-19 13:05:58 INFO  Route : GET = products/review In:routes/product.js req.user._id = = > "6490023b542c160deb8aecca" 
2023-06-19 15:13:33 INFO  Route : POST  = /products In:routes/product.js=====================> req.body : {} 
2023-06-19 15:13:49 INFO  Route : POST  = /products In:routes/product.js=====================> req.body : {} 
2023-06-19 15:14:19 INFO  Route : POST  = /products In:routes/product.js=====================> req.body : {} 
2023-06-19 15:53:51 INFO  Route : POST = products/review In:routes/product.js{"userId":"6490023b542c160deb8aecca","productId":"646f3bac5d3d7c99439ec912","review":"Fire product date:19/6/2023","rating":4} 
2023-06-19 15:56:21 INFO  Route : POST  = /products In:routes/product.js=====================> req.body : {} 
2023-06-19 16:05:08 INFO  Route : POST  = /products In:routes/product.js=====================> req.body : {} 
2023-06-19 16:15:04 INFO  Route : POST = products/review In:routes/product.js{"userId":"6490023b542c160deb8aecca","productId":"646f3bac5d3d7c99439ec912","review":"Fire product date:19/6/2023","rating":4} 
2023-06-19 16:16:05 INFO  Route : POST = products/review In:routes/product.js{"userId":"6490023b542c160deb8aecca","productId":"646f3bac5d3d7c99439ec912","review":"Fire product date:19/6/2023","rating":4} 
2023-06-19 16:16:12 INFO  Route : POST = products/review In:routes/product.js{"userId":"6490023b542c160deb8aecca","productId":"646f3bac5d3d7c99439ec912","review":"Fire product date:19/6/2023","rating":4} 
2023-06-19 16:20:32 INFO  Route : POST = products/review In:routes/product.js{"userId":"6490023b542c160deb8aecca","productId":"646f3bac5d3d7c99439ec912","review":"Fire product date:19/6/2023","rating":4} 
2023-06-19 16:22:51 INFO  Route : POST = products/review In:routes/product.js{"userId":"6490023b542c160deb8aecca","productId":"646f3bac5d3d7c99439ec912","review":"Fire product date:19/6/2023","rating":4} 
2023-06-19 16:37:55 INFO  Route : POST = products/review In:routes/product.js{"userId":"6490023b542c160deb8aecca","productId":"646f3bac5d3d7c99439ec912","review":"Fire product date:19/6/2023","rating":4} 
2023-06-19 16:38:08 INFO  Route : POST = products/review In:routes/product.js{"userId":"6490023b542c160deb8aecca","productId":"646f3bac5d3d7c99439ec912","review":"Fire product date:19/6/2023","rating":4} 
2023-06-19 16:39:21 INFO  Route : POST = products/review In:routes/product.js{"userId":"6490023b542c160deb8aecca","productId":"646f3bac5d3d7c99439ec912","review":"Fire product date:19/6/2023","rating":4} 
2023-06-19 16:39:40 INFO  Route : POST = products/review In:routes/product.js{"userId":"6490023b542c160deb8aecca","productId":"646f3bac5d3d7c99439ec912","review":"Fire product date:19/6/2023","rating":4} 
2023-06-19 16:42:34 INFO  Route : POST = products/review In:routes/product.js{"userId":"6490023b542c160deb8aecca","productId":"646f3bac5d3d7c99439ec912","review":"Fire product date:19/6/2023","rating":4} 
2023-06-19 16:46:01 INFO  Route : POST = products/review In:routes/product.js{"userId":"6490023b542c160deb8aecca","productId":"646f3bac5d3d7c99439ec912","review":"Fire product date:19/6/2023","rating":4} 
2023-06-19 16:51:41 INFO  Route : POST = products/review In:routes/product.js{"userId":"6490023b542c160deb8aecca","productId":"646f3bac5d3d7c99439ec912","review":"Fire product date:19/6/2023","rating":4} 
2023-06-19 16:51:49 INFO  Route : POST = products/review In:routes/product.js{"userId":"6490023b542c160deb8aecca","productId":"646f3bac5d3d7c99439ec912","review":"Fire product date:19/6/2023","rating":4} 
2023-06-19 17:04:13 INFO  Route : POST  = /products In:routes/product.js=====================> req.body : {} 
2023-06-19 17:04:13 ERROR error at post /products route...productsToSend is not defined
{}
ReferenceError: productsToSend is not defined
    at getProducts (/home/swapnils/Desktop/11.APIs with Angular teamates/Day-18-19-06-2023/updates-2/Online-shop-website-api/controller/product/products.controller.js:231:17)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) 
2023-06-19 17:04:59 INFO  Route : POST  = /products In:routes/product.js=====================> req.body : {} 
2023-06-19 17:08:51 INFO  Route : POST = products/review In:routes/product.js{"userId":"6490023b542c160deb8aecca","productId":"646f3bac5d3d7c99439ec912","review":"Fire product date:19/6/2023","rating":4} 
2023-06-19 17:09:18 INFO  Route : POST = products/review In:routes/product.js{"userId":"6490023b542c160deb8aecca","productId":"646f3bac5d3d7c99439ec912","review":"Fire product date:19/6/2023","rating":4} 
2023-06-19 17:09:39 INFO  Route : POST = products/review In:routes/product.js{"userId":"6490023b542c160deb8aecca","productId":"646f3bac5d3d7c99439ec912","review":"Fire product date:19/6/2023","rating":4} 
2023-06-19 17:25:07 INFO  Route : POST = products/review In:routes/product.js{"userId":"6490023b542c160deb8aecca","productId":"646f3bac5d3d7c99439ec912","review":"Fire product date:19/6/2023","rating":4} 
2023-06-19 17:25:07 ERROR error at /product/add-review route !Class constructor ObjectId cannot be invoked without 'new'
{}
TypeError: Class constructor ObjectId cannot be invoked without 'new'
    at addReview (/home/swapnils/Desktop/11.APIs with Angular teamates/Day-18-19-06-2023/updates-2/Online-shop-website-api/controller/product/review.controller.js:48:27)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) 
2023-06-19 17:26:05 INFO  Route : POST = products/review In:routes/product.js{"userId":"6490023b542c160deb8aecca","productId":"646f3bac5d3d7c99439ec912","review":"Fire product date:19/6/2023","rating":4} 
2023-06-19 17:26:05 ERROR error at /product/add-review route !unknown top level operator: $match. If you have a field name that starts with a '$' symbol, consider using $getField or $setField.
{"ok":0,"code":2,"codeName":"BadValue"}
MongoServerError: unknown top level operator: $match. If you have a field name that starts with a '$' symbol, consider using $getField or $setField.
    at Connection.onMessage (/home/swapnils/Desktop/11.APIs with Angular teamates/Day-18-19-06-2023/updates-2/Online-shop-website-api/node_modules/mongodb/lib/cmap/connection.js:202:26)
    at MessageStream.<anonymous> (/home/swapnils/Desktop/11.APIs with Angular teamates/Day-18-19-06-2023/updates-2/Online-shop-website-api/node_modules/mongodb/lib/cmap/connection.js:61:60)
    at MessageStream.emit (node:events:512:28)
    at processIncomingData (/home/swapnils/Desktop/11.APIs with Angular teamates/Day-18-19-06-2023/updates-2/Online-shop-website-api/node_modules/mongodb/lib/cmap/message_stream.js:124:16)
    at MessageStream._write (/home/swapnils/Desktop/11.APIs with Angular teamates/Day-18-19-06-2023/updates-2/Online-shop-website-api/node_modules/mongodb/lib/cmap/message_stream.js:33:9)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Socket.ondata (node:internal/streams/readable:766:22)
    at Socket.emit (node:events:512:28) 
2023-06-19 17:26:43 INFO  Route : POST = products/review In:routes/product.js{"userId":"6490023b542c160deb8aecca","productId":"646f3bac5d3d7c99439ec912","review":"Fire product date:19/6/2023","rating":4} 
2023-06-19 17:26:43 ERROR error at /product/add-review route !unknown top level operator: $match. If you have a field name that starts with a '$' symbol, consider using $getField or $setField.
{"ok":0,"code":2,"codeName":"BadValue"}
MongoServerError: unknown top level operator: $match. If you have a field name that starts with a '$' symbol, consider using $getField or $setField.
    at Connection.onMessage (/home/swapnils/Desktop/11.APIs with Angular teamates/Day-18-19-06-2023/updates-2/Online-shop-website-api/node_modules/mongodb/lib/cmap/connection.js:202:26)
    at MessageStream.<anonymous> (/home/swapnils/Desktop/11.APIs with Angular teamates/Day-18-19-06-2023/updates-2/Online-shop-website-api/node_modules/mongodb/lib/cmap/connection.js:61:60)
    at MessageStream.emit (node:events:512:28)
    at processIncomingData (/home/swapnils/Desktop/11.APIs with Angular teamates/Day-18-19-06-2023/updates-2/Online-shop-website-api/node_modules/mongodb/lib/cmap/message_stream.js:124:16)
    at MessageStream._write (/home/swapnils/Desktop/11.APIs with Angular teamates/Day-18-19-06-2023/updates-2/Online-shop-website-api/node_modules/mongodb/lib/cmap/message_stream.js:33:9)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Socket.ondata (node:internal/streams/readable:766:22)
    at Socket.emit (node:events:512:28) 
2023-06-19 17:29:49 INFO  Route : POST = products/review In:routes/product.js{"userId":"6490023b542c160deb8aecca","productId":"646f3bac5d3d7c99439ec912","review":"Fire product date:19/6/2023","rating":4} 
2023-06-19 17:29:49 ERROR error at /product/add-review route !unknown top level operator: $match. If you have a field name that starts with a '$' symbol, consider using $getField or $setField.
{"ok":0,"code":2,"codeName":"BadValue"}
MongoServerError: unknown top level operator: $match. If you have a field name that starts with a '$' symbol, consider using $getField or $setField.
    at Connection.onMessage (/home/swapnils/Desktop/11.APIs with Angular teamates/Day-18-19-06-2023/updates-2/Online-shop-website-api/node_modules/mongodb/lib/cmap/connection.js:202:26)
    at MessageStream.<anonymous> (/home/swapnils/Desktop/11.APIs with Angular teamates/Day-18-19-06-2023/updates-2/Online-shop-website-api/node_modules/mongodb/lib/cmap/connection.js:61:60)
    at MessageStream.emit (node:events:512:28)
    at processIncomingData (/home/swapnils/Desktop/11.APIs with Angular teamates/Day-18-19-06-2023/updates-2/Online-shop-website-api/node_modules/mongodb/lib/cmap/message_stream.js:124:16)
    at MessageStream._write (/home/swapnils/Desktop/11.APIs with Angular teamates/Day-18-19-06-2023/updates-2/Online-shop-website-api/node_modules/mongodb/lib/cmap/message_stream.js:33:9)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Socket.ondata (node:internal/streams/readable:766:22)
    at Socket.emit (node:events:512:28) 
2023-06-19 17:31:32 INFO  Route : POST = products/review In:routes/product.js{"userId":"6490023b542c160deb8aecca","productId":"646f3bac5d3d7c99439ec912","review":"Fire product date:19/6/2023","rating":4} 
2023-06-19 17:31:32 ERROR error at /product/add-review route !unknown top level operator: $match. If you have a field name that starts with a '$' symbol, consider using $getField or $setField.
{"ok":0,"code":2,"codeName":"BadValue"}
MongoServerError: unknown top level operator: $match. If you have a field name that starts with a '$' symbol, consider using $getField or $setField.
    at Connection.onMessage (/home/swapnils/Desktop/11.APIs with Angular teamates/Day-18-19-06-2023/updates-2/Online-shop-website-api/node_modules/mongodb/lib/cmap/connection.js:202:26)
    at MessageStream.<anonymous> (/home/swapnils/Desktop/11.APIs with Angular teamates/Day-18-19-06-2023/updates-2/Online-shop-website-api/node_modules/mongodb/lib/cmap/connection.js:61:60)
    at MessageStream.emit (node:events:512:28)
    at processIncomingData (/home/swapnils/Desktop/11.APIs with Angular teamates/Day-18-19-06-2023/updates-2/Online-shop-website-api/node_modules/mongodb/lib/cmap/message_stream.js:124:16)
    at MessageStream._write (/home/swapnils/Desktop/11.APIs with Angular teamates/Day-18-19-06-2023/updates-2/Online-shop-website-api/node_modules/mongodb/lib/cmap/message_stream.js:33:9)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Socket.ondata (node:internal/streams/readable:766:22)
    at Socket.emit (node:events:512:28) 
2023-06-19 17:32:34 INFO  Route : POST = products/review In:routes/product.js{"userId":"6490023b542c160deb8aecca","productId":"646f3bac5d3d7c99439ec912","review":"Fire product date:19/6/2023","rating":4} 
2023-06-19 17:32:34 ERROR error at /product/add-review route !unknown top level operator: $match. If you have a field name that starts with a '$' symbol, consider using $getField or $setField.
{"ok":0,"code":2,"codeName":"BadValue"}
MongoServerError: unknown top level operator: $match. If you have a field name that starts with a '$' symbol, consider using $getField or $setField.
    at Connection.onMessage (/home/swapnils/Desktop/11.APIs with Angular teamates/Day-18-19-06-2023/updates-2/Online-shop-website-api/node_modules/mongodb/lib/cmap/connection.js:202:26)
    at MessageStream.<anonymous> (/home/swapnils/Desktop/11.APIs with Angular teamates/Day-18-19-06-2023/updates-2/Online-shop-website-api/node_modules/mongodb/lib/cmap/connection.js:61:60)
    at MessageStream.emit (node:events:512:28)
    at processIncomingData (/home/swapnils/Desktop/11.APIs with Angular teamates/Day-18-19-06-2023/updates-2/Online-shop-website-api/node_modules/mongodb/lib/cmap/message_stream.js:124:16)
    at MessageStream._write (/home/swapnils/Desktop/11.APIs with Angular teamates/Day-18-19-06-2023/updates-2/Online-shop-website-api/node_modules/mongodb/lib/cmap/message_stream.js:33:9)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Socket.ondata (node:internal/streams/readable:766:22)
    at Socket.emit (node:events:512:28) 
2023-06-19 17:32:52 INFO  Route : POST = products/review In:routes/product.js{"userId":"6490023b542c160deb8aecca","productId":"646f3bac5d3d7c99439ec912","review":"Fire product date:19/6/2023","rating":4} 
2023-06-19 17:32:52 ERROR error at /product/add-review route !unknown top level operator: $match. If you have a field name that starts with a '$' symbol, consider using $getField or $setField.
{"ok":0,"code":2,"codeName":"BadValue"}
MongoServerError: unknown top level operator: $match. If you have a field name that starts with a '$' symbol, consider using $getField or $setField.
    at Connection.onMessage (/home/swapnils/Desktop/11.APIs with Angular teamates/Day-18-19-06-2023/updates-2/Online-shop-website-api/node_modules/mongodb/lib/cmap/connection.js:202:26)
    at MessageStream.<anonymous> (/home/swapnils/Desktop/11.APIs with Angular teamates/Day-18-19-06-2023/updates-2/Online-shop-website-api/node_modules/mongodb/lib/cmap/connection.js:61:60)
    at MessageStream.emit (node:events:512:28)
    at processIncomingData (/home/swapnils/Desktop/11.APIs with Angular teamates/Day-18-19-06-2023/updates-2/Online-shop-website-api/node_modules/mongodb/lib/cmap/message_stream.js:124:16)
    at MessageStream._write (/home/swapnils/Desktop/11.APIs with Angular teamates/Day-18-19-06-2023/updates-2/Online-shop-website-api/node_modules/mongodb/lib/cmap/message_stream.js:33:9)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Socket.ondata (node:internal/streams/readable:766:22)
    at Socket.emit (node:events:512:28) 
2023-06-19 17:33:43 INFO  Route : POST = products/review In:routes/product.js{"userId":"6490023b542c160deb8aecca","productId":"646f3bac5d3d7c99439ec912","review":"Fire product date:19/6/2023","rating":4} 
2023-06-19 17:33:43 ERROR error at /product/add-review route !reviewsOnProduct is not defined
{}
ReferenceError: reviewsOnProduct is not defined
    at addReview (/home/swapnils/Desktop/11.APIs with Angular teamates/Day-18-19-06-2023/updates-2/Online-shop-website-api/controller/product/review.controller.js:65:45)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) 
2023-06-19 17:33:48 INFO  Route : POST = products/review In:routes/product.js{"userId":"6490023b542c160deb8aecca","productId":"646f3bac5d3d7c99439ec912","review":"Fire product date:19/6/2023","rating":4} 
2023-06-19 17:33:48 ERROR error at /product/add-review route !reviewsOnProduct is not defined
{}
ReferenceError: reviewsOnProduct is not defined
    at addReview (/home/swapnils/Desktop/11.APIs with Angular teamates/Day-18-19-06-2023/updates-2/Online-shop-website-api/controller/product/review.controller.js:65:45)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) 
2023-06-19 17:34:09 INFO  Route : POST = products/review In:routes/product.js{"userId":"6490023b542c160deb8aecca","productId":"646f3bac5d3d7c99439ec912","review":"Fire product date:19/6/2023","rating":4} 
2023-06-19 17:34:09 ERROR error at /product/add-review route !Cannot read properties of undefined (reading 'rating')
{}
TypeError: Cannot read properties of undefined (reading 'rating')
    at addReview (/home/swapnils/Desktop/11.APIs with Angular teamates/Day-18-19-06-2023/updates-2/Online-shop-website-api/controller/product/review.controller.js:64:40)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) 
2023-06-19 17:34:43 INFO  Route : POST = products/review In:routes/product.js{"userId":"6490023b542c160deb8aecca","productId":"646f3bac5d3d7c99439ec912","review":"Fire product date:19/6/2023","rating":4} 
2023-06-19 17:34:43 ERROR error at /product/add-review route !reviewsOnProduct is not defined
{}
ReferenceError: reviewsOnProduct is not defined
    at addReview (/home/swapnils/Desktop/11.APIs with Angular teamates/Day-18-19-06-2023/updates-2/Online-shop-website-api/controller/product/review.controller.js:65:45)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) 
2023-06-19 17:35:11 INFO  Route : POST = products/review In:routes/product.js{"userId":"6490023b542c160deb8aecca","productId":"646f3bac5d3d7c99439ec912","review":"Fire product date:19/6/2023","rating":4} 
2023-06-19 17:35:11 ERROR error at /product/add-review route !reviewsOnProduct is not defined
{}
ReferenceError: reviewsOnProduct is not defined
    at addReview (/home/swapnils/Desktop/11.APIs with Angular teamates/Day-18-19-06-2023/updates-2/Online-shop-website-api/controller/product/review.controller.js:65:45)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) 
2023-06-19 17:35:38 INFO  Route : POST = products/review In:routes/product.js{"userId":"6490023b542c160deb8aecca","productId":"646f3bac5d3d7c99439ec912","review":"Fire product date:19/6/2023","rating":4} 
2023-06-19 17:35:52 INFO  Route : POST = products/review In:routes/product.js{"userId":"6490023b542c160deb8aecca","productId":"646f3bac5d3d7c99439ec912","review":"Fire product date:19/6/2023","rating":4} 
2023-06-19 17:37:11 INFO  Route : POST = products/review In:routes/product.js{"userId":"6490023b542c160deb8aecca","productId":"646f3bac5d3d7c99439ec912","review":"Fire product date:19/6/2023","rating":4} 
2023-06-19 17:37:46 INFO  Route : POST = products/review In:routes/product.js{"userId":"6490023b542c160deb8aecca","productId":"646f3bac5d3d7c99439ec912","review":"Fire product date:19/6/2023","rating":4} 
2023-06-19 17:38:42 INFO  Route : POST = products/review In:routes/product.js{"userId":"6490023b542c160deb8aecca","productId":"646f3bac5d3d7c99439ec912","review":"Fire product date:19/6/2023","rating":4} 
2023-06-19 17:41:38 INFO  Route : POST = products/review In:routes/product.js{"userId":"6490023b542c160deb8aecca","productId":"646f3bac5d3d7c99439ec912","review":"Fire product date:19/6/2023","rating":4} 
2023-06-19 17:41:55 INFO  Route : POST  = /products In:routes/product.js=====================> req.body : {} 
2023-06-19 17:42:12 INFO  Route : POST = products/review In:routes/product.js{"userId":"6490023b542c160deb8aecca","productId":"646f3bac5d3d7c99439ec912","review":"Fire product date:19/6/2023","rating":4} 
2023-06-19 17:42:25 INFO  Route : POST  = /products In:routes/product.js=====================> req.body : {} 
2023-06-19 17:43:06 INFO  Route : POST  = /products In:routes/product.js=====================> req.body : {} 
2023-06-19 17:43:11 INFO  Route : POST = products/review In:routes/product.js{"userId":"6490023b542c160deb8aecca","productId":"646f3bac5d3d7c99439ec912","review":"Fire product date:19/6/2023","rating":4} 
2023-06-19 17:43:59 INFO  Route : POST = products/review In:routes/product.js{"userId":"6490023b542c160deb8aecca","productId":"646f3bac5d3d7c99439ec912","review":"Fire product date:19/6/2023","rating":4} 
2023-06-19 17:45:07 INFO  Route : POST = products/review In:routes/product.js{"userId":"6490023b542c160deb8aecca","productId":"646f3bac5d3d7c99439ec912","review":"Fire product date:19/6/2023","rating":4} 
2023-06-19 17:47:11 INFO  Route : POST = products/review In:routes/product.js{"userId":"6490023b542c160deb8aecca","productId":"646f3bac5d3d7c99439ec912","review":"Fire product date:19/6/2023","rating":4} 
2023-06-19 17:48:03 INFO  Route : POST = products/review In:routes/product.js{"userId":"6490023b542c160deb8aecca","productId":"646f3bac5d3d7c99439ec912","review":"Fire product date:19/6/2023","rating":4} 
2023-06-19 18:32:36 INFO  Route : POST = products/review In:routes/product.js{"userId":"6490023b542c160deb8aecca","productId":"646f3bac5d3d7c99439ec912","review":"Fire product date:19/6/2023","rating":4} 
2023-06-19 18:33:06 INFO  Route : POST = products/review In:routes/product.js{"userId":"6490023b542c160deb8aecca","productId":"646f3bac5d3d7c99439ec912","review":"Fire product date:19/6/2023","rating":4} 
2023-06-19 18:33:32 INFO  Route : POST = products/review In:routes/product.js{"userId":"6490023b542c160deb8aecca","productId":"646f3bac5d3d7c99439ec912","review":"Fire product date:19/6/2023","rating":4} 
2023-06-19 18:38:00 INFO  Route : POST  = /products In:routes/product.js=====================> req.body : {"sort":{"field":"rating","order":"desc"}} 
